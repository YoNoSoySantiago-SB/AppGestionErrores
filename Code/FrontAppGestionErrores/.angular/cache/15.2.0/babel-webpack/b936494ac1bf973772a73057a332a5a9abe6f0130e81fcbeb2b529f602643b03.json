{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet DashboardComponent = class DashboardComponent {\n  constructor(HttpService, messageService) {\n    this.HttpService = HttpService;\n    this.messageService = messageService;\n    this.applicationError = {};\n    this.actionsUser = [];\n    this.trazability = [];\n    this.trazaFrontend = '';\n    this.trazaBackend = '';\n    this.errorBackAndFront = false;\n    this.loadError = false;\n    this.idApplicationError = '';\n    this.first = 0;\n    this.rows = 10;\n  }\n  ngOnInit() {\n    this.loadError = true;\n  }\n  getApplicationError(idApplicationError) {\n    console.log(\"id\", idApplicationError);\n    this.HttpService.getApplicationError(idApplicationError).subscribe({\n      next: response => {\n        this.applicationError = response;\n        this.getUserActions(idApplicationError);\n        this.getTrazability(idApplicationError);\n      },\n      error: error => {\n        this.messageService.add({\n          severity: 'error',\n          summary: 'ERROR',\n          detail: 'El registro del error no existe'\n        });\n      }\n    });\n  }\n  getUserActions(idApplicationError) {\n    this.HttpService.getUserActions(idApplicationError).subscribe(response => {\n      this.actionsUser = response;\n    });\n  }\n  getTrazability(idApplicationError) {\n    this.HttpService.getTrazability(idApplicationError).subscribe(response => {\n      this.trazability = response;\n      if (this.trazability.length === 2) {\n        for (let i = 0; i < this.trazability.length; i++) {\n          console.log(\"reaza\", this.trazability[i].trazaError);\n          if (this.trazability[i].origen == 'backend') {\n            this.trazaBackend = this.trazability[i].trazaError;\n            this.trazaBackend = this.trazaBackend.replace(/\\n/g, '<br>');\n          } else if (this.trazability[i].origen == 'frontend') {\n            this.trazaFrontend = this.trazability[i].trazaError;\n          }\n        }\n        this.errorBackAndFront = true;\n      } else {\n        this.trazaFrontend = this.trazability[0].trazaError;\n      }\n    });\n  }\n  next() {\n    this.first = this.first + this.rows;\n  }\n  prev() {\n    this.first = this.first - this.rows;\n  }\n  reset() {\n    this.first = 0;\n  }\n  isLastPage() {\n    return this.actionsUser ? this.first === this.actionsUser.length - this.rows : true;\n  }\n  isFirstPage() {\n    return this.actionsUser ? this.first === 0 : true;\n  }\n  clear() {\n    this.messageService.clear();\n  }\n};\nDashboardComponent = __decorate([Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})], DashboardComponent);\nexport { DashboardComponent };","map":{"version":3,"mappings":"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","names":["Component","DashboardComponent","constructor","HttpService","messageService","ngOnInit","loadError","getApplicationError","idApplicationError","console","log","subscribe","next","response","applicationError","getUserActions","getTrazability","error","add","severity","summary","detail","actionsUser","trazability","length","i","trazaError","origen","trazaBackend","replace","trazaFrontend","errorBackAndFront","first","rows","prev","reset","isLastPage","isFirstPage","clear","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\1193033579\\Documents\\AppGestionErrores\\Code\\FrontAppGestionErrores\\src\\app\\components\\dashboard\\dashboard.component.ts"],"sourcesContent":["import {HttpService} from '../../services/httpService.service';\nimport { AplicacionErrorDTO } from './../../model/AplicacionErrorDTO.interface';\nimport { Component, OnInit } from '@angular/core';\nimport { TrazabilidadCodigoDTO } from 'src/app/model/TrazabilidadCodigoDTO.interface';\nimport { AccionUsuarioDTO } from '../../model/AccionUsuarioDTO.interface';\nimport {MessageService} from 'primeng/api';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit {\n\n  constructor(private HttpService:HttpService,private messageService: MessageService){}\n\n  applicationError: AplicacionErrorDTO= {} as AplicacionErrorDTO;\n  actionsUser: AccionUsuarioDTO[] = [];\n  trazability: TrazabilidadCodigoDTO[] = [];\n  trazaFrontend: string = '';\n  trazaBackend: string = '';\n  errorBackAndFront: boolean = false;\n  loadError: boolean = false;\n  idApplicationError: string = '';\n  first = 0;\n  rows = 10;\n\n  ngOnInit(): void {\n    this.loadError=true;\n  }\n\n  getApplicationError(idApplicationError:string) {\n    console.log(\"id\",idApplicationError)\n    this.HttpService.getApplicationError(idApplicationError).subscribe({\n      next: (response) => {\n       this.applicationError=response\n       this.getUserActions(idApplicationError)\n       this.getTrazability(idApplicationError)\n      },\n      error: (error) => {\n        this.messageService.add({severity:'error', summary:'ERROR', detail:'El registro del error no existe'});\n      }\n    });\n   }\n\n  getUserActions(idApplicationError:string) {\n    this.HttpService.getUserActions(idApplicationError).subscribe((response) => {\n      this.actionsUser=response\n    });\n  }\n  \n  getTrazability(idApplicationError:string) {\n    this.HttpService.getTrazability(idApplicationError).subscribe((response) => {\n      this.trazability=response\n      if (this.trazability.length === 2) {\n        for(let i = 0; i < this.trazability.length; i++) {\n          console.log(\"reaza\",this.trazability[i].trazaError)\n          if (this.trazability[i].origen == 'backend') {\n            this.trazaBackend = this.trazability[i].trazaError;\n            this.trazaBackend=this.trazaBackend.replace(/\\n/g, '<br>');\n          } else if (this.trazability[i].origen == 'frontend') {\n            this.trazaFrontend = this.trazability[i].trazaError;\n          }\n        }\n        this.errorBackAndFront= true;\n      }else{\n        this.trazaFrontend = this.trazability[0].trazaError;\n      }\n    });\n  }\n\n  next() {\n    this.first = this.first + this.rows;\n  }\n\n  prev() {\n    this.first = this.first - this.rows;\n  }\n\n  reset() {\n    this.first = 0;\n  }\n\n  isLastPage(): boolean {\n    return this.actionsUser ? this.first === (this.actionsUser.length - this.rows): true;\n  }\n\n  isFirstPage(): boolean {\n    return this.actionsUser ? this.first === 0 : true;\n  }\n  clear() {\n    this.messageService.clear();\n}\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}