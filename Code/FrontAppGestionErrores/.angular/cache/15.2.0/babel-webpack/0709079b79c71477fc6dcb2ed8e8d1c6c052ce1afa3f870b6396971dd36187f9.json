{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/httpService.service\";\nimport * as i2 from \"primeng/api\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"primeng/table\";\nimport * as i5 from \"primeng/button\";\nimport * as i6 from \"primeng/inputtext\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"primeng/toast\";\nimport * as i9 from \"primeng/card\";\nconst _c0 = function () {\n  return {\n    width: \"960px\",\n    height: \"500px\",\n    \"margin-top\": \"40px\",\n    \"margin-bottom\": \"20px\",\n    \"margin\": \"auto\"\n  };\n};\nfunction DashboardComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p-card\", 7);\n    i0.ɵɵtext(2, \" Seleccione el identificador del error para ver la informacion relacionada \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(2, _c0));\n  }\n}\nfunction DashboardComponent_ng_template_7_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 9);\n    i0.ɵɵtext(2, \"Trazabilidad Codigo Backend\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r3.trazaBackend, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction DashboardComponent_ng_template_7_ng_template_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelement(1, \"th\", 19);\n    i0.ɵɵelementStart(2, \"th\", 19);\n    i0.ɵɵtext(3, \"Accion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"th\", 20);\n    i0.ɵɵtext(5, \"Descripcion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\", 19);\n    i0.ɵɵtext(7, \"Nivel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 19);\n    i0.ɵɵtext(9, \"Hora\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_ng_template_7_ng_template_30_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 27);\n  }\n}\nfunction DashboardComponent_ng_template_7_ng_template_30_img_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 28);\n  }\n}\nfunction DashboardComponent_ng_template_7_ng_template_30_img_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 29);\n  }\n}\nfunction DashboardComponent_ng_template_7_ng_template_30_img_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 30);\n  }\n}\nfunction DashboardComponent_ng_template_7_ng_template_30_img_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 31);\n  }\n}\nfunction DashboardComponent_ng_template_7_ng_template_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 21);\n    i0.ɵɵtemplate(2, DashboardComponent_ng_template_7_ng_template_30_img_2_Template, 1, 0, \"img\", 22);\n    i0.ɵɵtemplate(3, DashboardComponent_ng_template_7_ng_template_30_img_3_Template, 1, 0, \"img\", 23);\n    i0.ɵɵtemplate(4, DashboardComponent_ng_template_7_ng_template_30_img_4_Template, 1, 0, \"img\", 24);\n    i0.ɵɵtemplate(5, DashboardComponent_ng_template_7_ng_template_30_img_5_Template, 1, 0, \"img\", 25);\n    i0.ɵɵtemplate(6, DashboardComponent_ng_template_7_ng_template_30_img_6_Template, 1, 0, \"img\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 21);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 21);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 21);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 21);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const action_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", action_r8.nombreAccion === \"Boton\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", action_r8.nombreAccion === \"Input\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", action_r8.nombreAccion === \"Request\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", action_r8.nombreAccion === \"Navegacion\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", action_r8.nombreAccion === \"Excepcion\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(action_r8.nombreAccion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(action_r8.accionUsuario);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(action_r8.nombreNivel);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(action_r8.accionUsuario);\n  }\n}\nfunction DashboardComponent_ng_template_7_ng_template_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"p-button\", 32);\n  }\n}\nfunction DashboardComponent_ng_template_7_ng_template_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"p-button\", 33);\n  }\n}\nconst _c1 = function () {\n  return {\n    width: \"960px\",\n    \"margin-top\": \"40px\",\n    \"margin-bottom\": \"20px\",\n    \"margin\": \"auto\"\n  };\n};\nconst _c2 = function () {\n  return {\n    \"min-width\": \"50rem\"\n  };\n};\nconst _c3 = function () {\n  return [10, 25, 50];\n};\nfunction DashboardComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p-card\", 7)(1, \"div\", 8)(2, \"h1\", 9);\n    i0.ɵɵtext(3, \"ID del Error:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h2\", 9);\n    i0.ɵɵtext(5, \"Descripcion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"h2\", 9);\n    i0.ɵɵtext(9, \"Error detectado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"h2\", 9);\n    i0.ɵɵtext(13, \"Navegador\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"h2\", 9);\n    i0.ɵɵtext(17, \"IP Usuario\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"h2\", 9);\n    i0.ɵɵtext(21, \"Trazabilidad Codigo FrontEnd\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"div\", 10);\n    i0.ɵɵtemplate(23, DashboardComponent_ng_template_7_div_23_Template, 4, 1, \"div\", 11);\n    i0.ɵɵelementStart(24, \"h2\", 9);\n    i0.ɵɵtext(25, \"Eventos del usuario\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 12)(27, \"div\", 13)(28, \"p-table\", 14);\n    i0.ɵɵtemplate(29, DashboardComponent_ng_template_7_ng_template_29_Template, 10, 0, \"ng-template\", 15);\n    i0.ɵɵtemplate(30, DashboardComponent_ng_template_7_ng_template_30_Template, 15, 9, \"ng-template\", 16);\n    i0.ɵɵtemplate(31, DashboardComponent_ng_template_7_ng_template_31_Template, 1, 0, \"ng-template\", 17);\n    i0.ɵɵtemplate(32, DashboardComponent_ng_template_7_ng_template_32_Template, 1, 0, \"ng-template\", 18);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(14, _c1));\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r2.applicationError.descripcionError);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.applicationError.tituloError);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.applicationError.navegadorUsuario);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.applicationError.ipUsuario);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r2.trazaFrontend, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.errorBackAndFront);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"value\", ctx_r2.actionsUser)(\"paginator\", true)(\"rows\", 10)(\"showCurrentPageReport\", true)(\"tableStyle\", i0.ɵɵpureFunction0(15, _c2))(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(16, _c3));\n  }\n}\nexport class DashboardComponent {\n  constructor(HttpService, messageService) {\n    this.HttpService = HttpService;\n    this.messageService = messageService;\n    this.applicationError = {};\n    this.actionsUser = [];\n    this.trazability = [];\n    this.trazaFrontend = '';\n    this.trazaBackend = '';\n    this.errorBackAndFront = false;\n    this.showInformation = false;\n    this.idApplicationError = '';\n    this.first = 0;\n    this.rows = 10;\n  }\n  ngOnInit() {\n    this.showInformation = false;\n    console.log(\"showInformation\", this.showInformation);\n  }\n  getApplicationError(idApplicationError) {\n    console.log(\"id\", idApplicationError);\n    this.HttpService.getApplicationError(idApplicationError).subscribe({\n      next: response => {\n        this.applicationError = response;\n        this.getUserActions(idApplicationError);\n        this.getTrazability(idApplicationError);\n        this.showInformation = true;\n        console.log(\"showInformation2\", this.showInformation);\n      },\n      error: error => {\n        this.messageService.add({\n          severity: 'error',\n          summary: 'ERROR',\n          detail: 'El registro del error no existe'\n        });\n      }\n    });\n  }\n  getUserActions(idApplicationError) {\n    this.HttpService.getUserActions(idApplicationError).subscribe(response => {\n      this.actionsUser = response;\n    });\n  }\n  getTrazability(idApplicationError) {\n    this.HttpService.getTrazability(idApplicationError).subscribe(response => {\n      this.trazability = response;\n      if (this.trazability.length === 2) {\n        for (let i = 0; i < this.trazability.length; i++) {\n          if (this.trazability[i].origen == 'backend') {\n            this.trazaBackend = this.trazability[i].trazaError;\n            this.trazaBackend = this.trazaBackend.replace(/\\n/g, '<br>');\n          } else if (this.trazability[i].origen == 'frontend') {\n            this.trazaFrontend = this.trazability[i].trazaError;\n            this.trazaFrontend = this.trazaFrontend.replace(/\\n/g, '<br>');\n          }\n        }\n        this.errorBackAndFront = true;\n      } else {\n        this.trazaFrontend = this.trazability[0].trazaError;\n        this.trazaFrontend = this.trazaFrontend.replace(/\\n/g, '<br>');\n      }\n    });\n  }\n  next() {\n    this.first = this.first + this.rows;\n  }\n  prev() {\n    this.first = this.first - this.rows;\n  }\n  reset() {\n    this.first = 0;\n  }\n  isLastPage() {\n    return this.actionsUser ? this.first === this.actionsUser.length - this.rows : true;\n  }\n  isFirstPage() {\n    return this.actionsUser ? this.first === 0 : true;\n  }\n  clear() {\n    this.messageService.clear();\n  }\n}\nDashboardComponent.ɵfac = function DashboardComponent_Factory(t) {\n  return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.HttpService), i0.ɵɵdirectiveInject(i2.MessageService));\n};\nDashboardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DashboardComponent,\n  selectors: [[\"app-dashboard\"]],\n  decls: 9,\n  vars: 3,\n  consts: [[1, \"container\"], [2, \"display\", \"flex\", \"justify-content\", \"center\", \"align-items\", \"center\", \"margin-top\", \"20px\", \"padding\", \"30px\"], [2, \"display\", \"flex\", \"align-items\", \"center\"], [\"name\", \"idApplicationError\", \"type\", \"text\", \"pInputText\", \"\", \"inputmode\", \"numeric\", \"pattern\", \"[0-9]*\", 2, \"margin-right\", \"10px\", 3, \"ngModel\", \"ngModelChange\"], [\"pButton\", \"\", \"type\", \"button\", \"label\", \"Buscar\", 1, \"custom-button\", 3, \"click\"], [4, \"ngIf\", \"ngIfElse\"], [\"cardList\", \"\"], [\"styleClass\", \"p-card-shadow\"], [2, \"padding\", \"30px\"], [1, \"title\"], [3, \"innerHTML\"], [4, \"ngIf\"], [2, \"display\", \"flex\", \"justify-content\", \"center\"], [1, \"card\"], [\"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", 3, \"value\", \"paginator\", \"rows\", \"showCurrentPageReport\", \"tableStyle\", \"rowsPerPageOptions\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"paginatorleft\"], [\"pTemplate\", \"paginatorright\"], [2, \"text-align\", \"center\", \"width\", \"15%\"], [2, \"text-align\", \"center\", \"width\", \"45%\"], [2, \"text-align\", \"center\"], [\"src\", \"./assets/boton.png\", \"width\", \"20%\", \"height\", \"20%\", 4, \"ngIf\"], [\"src\", \"./assets/input.png\", \"width\", \"20%\", \"height\", \"20%\", 4, \"ngIf\"], [\"src\", \"./assets/http.png\", \"width\", \"20%\", \"height\", \"20%\", 4, \"ngIf\"], [\"src\", \"./assets/url.png\", \"width\", \"20%\", \"height\", \"20%\", 4, \"ngIf\"], [\"src\", \"./assets/error.png\", \"width\", \"20%\", \"height\", \"20%\", 4, \"ngIf\"], [\"src\", \"./assets/boton.png\", \"width\", \"20%\", \"height\", \"20%\"], [\"src\", \"./assets/input.png\", \"width\", \"20%\", \"height\", \"20%\"], [\"src\", \"./assets/http.png\", \"width\", \"20%\", \"height\", \"20%\"], [\"src\", \"./assets/url.png\", \"width\", \"20%\", \"height\", \"20%\"], [\"src\", \"./assets/error.png\", \"width\", \"20%\", \"height\", \"20%\"], [\"type\", \"button\", \"icon\", \"pi pi-plus\", \"styleClass\", \"p-button-text\"], [\"type\", \"button\", \"icon\", \"pi pi-cloud\", \"styleClass\", \"p-button-text\"]],\n  template: function DashboardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"p-toast\");\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"form\", 2)(4, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function DashboardComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.idApplicationError = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_5_listener() {\n        return ctx.getApplicationError(ctx.idApplicationError);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(6, DashboardComponent_div_6_Template, 3, 3, \"div\", 5);\n      i0.ɵɵtemplate(7, DashboardComponent_ng_template_7_Template, 33, 17, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(8);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.idApplicationError);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.showInformation)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i3.NgIf, i4.Table, i2.PrimeTemplate, i5.ButtonDirective, i5.Button, i6.InputText, i7.ɵNgNoValidate, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.PatternValidator, i7.NgModel, i7.NgForm, i8.Toast, i9.Card],\n  styles: [\".custom-button[_ngcontent-%COMP%] {\\r\\n    background-color: #198754;\\r\\n    color: white;\\r\\n  }\\r\\n\\r\\n  .title[_ngcontent-%COMP%] {\\r\\n    font-weight: bold;\\r\\n  }\\r\\n  .custom-card[_ngcontent-%COMP%] {\\r\\n    width: 200px;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9kYXNoYm9hcmQvZGFzaGJvYXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx5QkFBeUI7SUFDekIsWUFBWTtFQUNkOztFQUVBO0lBQ0UsaUJBQWlCO0VBQ25CO0VBQ0E7SUFDRSxZQUFZO0VBQ2QiLCJzb3VyY2VzQ29udGVudCI6WyIuY3VzdG9tLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTk4NzU0O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gIH1cclxuXHJcbiAgLnRpdGxlIHtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIH1cclxuICAuY3VzdG9tLWNhcmQge1xyXG4gICAgd2lkdGg6IDIwMHB4O1xyXG4gIH0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","DashboardComponent","constructor","HttpService","messageService","ngOnInit","showInformation","console","log","getApplicationError","idApplicationError","subscribe","next","response","applicationError","getUserActions","getTrazability","error","add","severity","summary","detail","actionsUser","trazability","length","i","origen","trazaBackend","trazaError","replace","trazaFrontend","errorBackAndFront","first","rows","prev","reset","isLastPage","isFirstPage","clear","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\1193033579\\Documents\\AppGestionErrores\\Code\\FrontAppGestionErrores\\src\\app\\components\\dashboard\\dashboard.component.html","C:\\Users\\1193033579\\Documents\\AppGestionErrores\\Code\\FrontAppGestionErrores\\src\\app\\components\\dashboard\\dashboard.component.ts"],"sourcesContent":["<div class=\"container\">\n    <p-toast></p-toast>\n    <div style=\"display: flex; justify-content: center; align-items: center; margin-top: 20px;padding: 30px;\">\n        <form style=\"display: flex; align-items: center;\">\n          <input [(ngModel)]=\"idApplicationError\" name=\"idApplicationError\" type=\"text\" pInputText style=\"margin-right: 10px;\" inputmode=\"numeric\" pattern=\"[0-9]*\"/>\n          <button (click)=\"getApplicationError(idApplicationError)\" pButton type=\"button\" label=\"Buscar\" class=\"custom-button\"></button>\n        </form>\n    </div>\n   \n    <div *ngIf=\"!showInformation; else cardList\">\n        <p-card [style]=\"{width: '960px',height:'500px','margin-top': '40px', 'margin-bottom': '20px','margin': 'auto'}\" styleClass=\"p-card-shadow\">\n       Seleccione el identificador del error para ver la informacion relacionada\n        </p-card>\n    </div>\n\n    <ng-template #cardList>\n        <p-card [style]=\"{width: '960px','margin-top': '40px', 'margin-bottom': '20px','margin': 'auto'}\" styleClass=\"p-card-shadow\">\n            <div style=\"padding: 30px;\">\n            <h1 class=\"title\">ID del Error:</h1>\n    \n            <h2 class=\"title\">Descripcion</h2>\n            <p>{{applicationError.descripcionError}}</p>\n    \n            <h2 class=\"title\">Error detectado</h2>\n            <p>{{applicationError.tituloError}}</p>\n    \n            <h2 class=\"title\">Navegador</h2>\n            <p>{{applicationError.navegadorUsuario}}</p>\n    \n            <h2 class=\"title\">IP Usuario</h2>\n            <p>{{applicationError.ipUsuario}}</p>\n    \n        \n            <h2 class=\"title\">Trazabilidad Codigo FrontEnd</h2>\n            <div [innerHTML]=\"trazaFrontend\"></div>\n    \n            <div *ngIf=\"errorBackAndFront\">\n                <h2 class=\"title\">Trazabilidad Codigo Backend</h2>\n                <div [innerHTML]=\"trazaBackend\"></div>\n            </div>\n            <h2 class=\"title\">Eventos del usuario</h2>\n    \n            \n            <div style=\"display: flex; justify-content: center;\">\n                <div class=\"card\">\n                    <p-table [value]=\"actionsUser\" [paginator]=\"true\" [rows]=\"10\" [showCurrentPageReport]=\"true\" [tableStyle]=\"{'min-width': '50rem'}\"\n                        currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\" [rowsPerPageOptions]=\"[10,25,50]\">\n                        <ng-template pTemplate=\"header\">\n                            <tr>\n                                <th style=\"text-align: center;width:15%\"></th>\n                                <th style=\"text-align: center;width:15%\">Accion</th>\n                                <th style=\"text-align: center;width:45%\">Descripcion</th>\n                                <th style=\"text-align: center;width:15%\">Nivel</th>\n                                <th style=\"text-align: center;width:15%\">Hora</th>\n                            </tr>\n                        </ng-template>\n                        <ng-template pTemplate=\"body\" let-action>\n                            <tr>\n                                <td style=\"text-align: center;\">\n                                    <img *ngIf=\"action.nombreAccion === 'Boton'\" src=\"./assets/boton.png\" width=\"20%\" height=\"20%\"/>\n                                    <img *ngIf=\"action.nombreAccion === 'Input'\" src=\"./assets/input.png\" width=\"20%\" height=\"20%\"/>\n                                    <img *ngIf=\"action.nombreAccion === 'Request'\" src=\"./assets/http.png\" width=\"20%\" height=\"20%\"/>\n                                    <img *ngIf=\"action.nombreAccion === 'Navegacion'\" src=\"./assets/url.png\" width=\"20%\" height=\"20%\"/>\n                                    <img *ngIf=\"action.nombreAccion === 'Excepcion'\" src=\"./assets/error.png\" width=\"20%\" height=\"20%\"/>\n                                </td>\n                                <td style=\"text-align: center;\">{{action.nombreAccion}}</td>\n                                <td style=\"text-align: center;\">{{action.accionUsuario}}</td>\n                                <td style=\"text-align: center;\">{{action.nombreNivel}}</td>\n                                <td style=\"text-align: center;\">{{action.accionUsuario}}</td>\n                            </tr>\n                        </ng-template>\n                        <ng-template pTemplate=\"paginatorleft\">\n                            <p-button type=\"button\" icon=\"pi pi-plus\" styleClass=\"p-button-text\"></p-button>\n                        </ng-template>\n                        <ng-template pTemplate=\"paginatorright\">\n                            <p-button type=\"button\" icon=\"pi pi-cloud\" styleClass=\"p-button-text\"></p-button>\n                        </ng-template>\n                    </p-table>\n                </div>\n            </div>\n          </div>\n        </p-card>\n    </ng-template> \n      \n</div>\n\n\n","import {HttpService} from '../../services/httpService.service';\nimport { AplicacionErrorDTO } from './../../model/AplicacionErrorDTO.interface';\nimport { Component, OnInit } from '@angular/core';\nimport { TrazabilidadCodigoDTO } from 'src/app/model/TrazabilidadCodigoDTO.interface';\nimport { AccionUsuarioDTO } from '../../model/AccionUsuarioDTO.interface';\nimport {MessageService} from 'primeng/api';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit {\n\n  constructor(private HttpService:HttpService,private messageService: MessageService){}\n\n  applicationError: AplicacionErrorDTO= {} as AplicacionErrorDTO;\n  actionsUser: AccionUsuarioDTO[] = [];\n  trazability: TrazabilidadCodigoDTO[] = [];\n  trazaFrontend: string = '';\n  trazaBackend: string = '';\n  errorBackAndFront: boolean = false;\n  showInformation: boolean = false;\n  idApplicationError: string = '';\n  first = 0;\n  rows = 10;\n\n  ngOnInit(): void {\n    this.showInformation=false;\n    console.log(\"showInformation\",this.showInformation)\n  }\n\n  getApplicationError(idApplicationError:string) {\n    console.log(\"id\",idApplicationError)\n    this.HttpService.getApplicationError(idApplicationError).subscribe({\n      next: (response) => {\n       this.applicationError=response\n       this.getUserActions(idApplicationError)\n       this.getTrazability(idApplicationError)\n       this.showInformation=true;\n       console.log(\"showInformation2\",this.showInformation)\n      },\n      error: (error) => {\n        this.messageService.add({severity:'error', summary:'ERROR', detail:'El registro del error no existe'});\n      }\n    });\n   }\n\n  getUserActions(idApplicationError:string) {\n    this.HttpService.getUserActions(idApplicationError).subscribe((response) => {\n      this.actionsUser=response\n    });\n  }\n  \n  getTrazability(idApplicationError:string) {\n    this.HttpService.getTrazability(idApplicationError).subscribe((response) => {\n      this.trazability=response\n      if (this.trazability.length === 2) {\n        for(let i = 0; i < this.trazability.length; i++) {\n          if (this.trazability[i].origen == 'backend') {\n            this.trazaBackend = this.trazability[i].trazaError;\n            this.trazaBackend=this.trazaBackend.replace(/\\n/g, '<br>');\n          } else if (this.trazability[i].origen == 'frontend') {\n            this.trazaFrontend = this.trazability[i].trazaError;\n            this.trazaFrontend=this.trazaFrontend.replace(/\\n/g, '<br>');\n          }\n        }\n        this.errorBackAndFront= true;\n      }else{\n        this.trazaFrontend = this.trazability[0].trazaError;\n        this.trazaFrontend=this.trazaFrontend.replace(/\\n/g, '<br>');\n      }\n    });\n  }\n\n  next() {\n    this.first = this.first + this.rows;\n  }\n\n  prev() {\n    this.first = this.first - this.rows;\n  }\n\n  reset() {\n    this.first = 0;\n  }\n\n  isLastPage(): boolean {\n    return this.actionsUser ? this.first === (this.actionsUser.length - this.rows): true;\n  }\n\n  isFirstPage(): boolean {\n    return this.actionsUser ? this.first === 0 : true;\n  }\n  clear() {\n    this.messageService.clear();\n}\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}